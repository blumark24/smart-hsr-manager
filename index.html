<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Smart HSR Dashboard â€” Ø§Ù„Ù…Ø¯Ù† Ø§Ù„Ø°ÙƒÙŠØ© ØªØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„Ù…ÙŠØ¯Ø§Ù†</title>

  <!-- Tailwind & Fonts -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&family=Inter:wght@400;700;900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css" />

  <style>
    :root {
      --turquoise:#0EA5A1;
      --navy:#0B2B3A;
    }
    body {
      font-family:'Tajawal',sans-serif;
      background:linear-gradient(180deg,#0b2b3a 0%,#0e2330 30%,#081722 100%);
      color:#e8f4f4;
      overflow-x:hidden;
    }
    .btn {background:linear-gradient(180deg,#0EA5A1,#0a8c88);color:#062226;font-weight:800;padding:.9rem 1.25rem;border-radius:1rem;transition:.25s;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;}
    .btn:hover {transform:translateY(-2px);box-shadow:0 10px 24px rgba(14,165,161,.35);}
    .glass {background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);backdrop-filter:blur(10px);}
    .ringed {position:relative;}
    .ringed:after {content:"";position:absolute;inset:-2px;border-radius:inherit;padding:2px;background:conic-gradient(from 140deg,rgba(14,165,161,.75),rgba(11,43,58,.8),rgba(14,165,161,.75));-webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);-webkit-mask-composite:xor;mask-composite:exclude;border-radius:inherit;}
    .orb {position:fixed;width:700px;height:700px;background:radial-gradient(circle at 50% 50%,rgba(14,165,161,.24),rgba(14,165,161,0) 60%);filter:blur(30px);pointer-events:none;transform:translate(-50%,-50%);}
  </style>
</head>
<body>
  <div id="orb" class="orb" style="top:30%;left:70%"></div>

  <header class="sticky top-0 z-40 backdrop-blur-md bg-[#0B2B3A]/70 border-b border-white/10" data-aos="fade-down">
    <div class="max-w-7xl mx-auto px-5 py-4 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-11 h-11 rounded-2xl bg-white/90 flex items-center justify-center ringed">
          <span class="font-black text-[#0B2B3A]">SH</span>
        </div>
        <div class="leading-tight">
          <div class="font-extrabold text-white text-lg">Smart HSR <span class="text-[var(--turquoise)]">Dashboard</span></div>
          <div class="text-xs text-white/70 en">AI-Powered Urban Quality</div>
        </div>
      </div>
      <nav class="hidden md:flex items-center gap-6 text-white/80">
        <a href="#demo" class="hover:text-white">ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠ</a>
        <a href="#impact" class="hover:text-white">Ø§Ù„Ø£Ø«Ø±</a>
      </nav>
    </div>
  </header>

  <section id="demo" class="py-20">
    <div class="max-w-6xl mx-auto px-6" data-aos="fade-up">
      <h2 class="text-3xl md:text-4xl font-extrabold mb-3">âœ¨ Ø¬Ø±Ø¨ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠ Ø§Ù„Ø¢Ù†</h2>
      <p class="text-white/70 mb-8">Ø§Ø±ÙØ¹ ØµÙˆØ±Ø© Ù…ÙŠØ¯Ø§Ù†ÙŠØ© ÙˆØ´Ø§Ù‡Ø¯ Ø§Ù„ÙˆØµÙ Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠ Ø§Ù„ÙÙˆØ±ÙŠ Ø¹Ø¨Ø± <span class="en">Gemini API</span>.</p>

      <div class="grid md:grid-cols-2 gap-6">
        <!-- Upload -->
        <div class="glass ringed rounded-2xl p-6 flex flex-col justify-center" data-aos="fade-left">
          <label class="block text-sm text-white/70 mb-2">Ø§Ø®ØªØ± ØµÙˆØ±Ø© (JPEG/PNG)</label>
          <label for="aiFile" class="relative z-50 cursor-pointer btn glow w-full">ğŸ“¸ Ø§Ø®ØªØ± ØµÙˆØ±Ø©
            <input id="aiFile" type="file" accept="image/*" class="absolute inset-0 opacity-0 cursor-pointer" />
          </label>
          <div id="preview" class="mt-5 bg-black/30 rounded-xl grid place-items-center text-white/40 text-sm min-h-[200px] transition-all duration-500">Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ±Ø© Ø¨Ø¹Ø¯</div>
          <button id="analyzeBtn" class="btn mt-5 w-full glow relative z-50">ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠ</button>
        </div>

        <!-- Result -->
        <div class="glass ringed rounded-2xl p-6" data-aos="fade-right">
          <h3 class="font-bold text-xl mb-3">ğŸ“„ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠØ©</h3>
          <div id="aiResult" class="text-white/80 leading-relaxed">â€”</div>
        </div>
      </div>
    </div>
  </section>

  <footer class="border-t border-white/10 py-6 text-center text-white/60 text-sm" data-aos="fade-up">
    Â© 2025 Smart HSR â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.
  </footer>

  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script>
    AOS.init({ duration: 1000, once: true });

    const orb=document.getElementById('orb');
    window.addEventListener('mousemove',e=>{const{innerWidth:w,innerHeight:h}=window;orb.style.left=`${(e.clientX/w)*100}%`;orb.style.top=`${(e.clientY/h)*60+10}%`;});

    const aiFile=document.getElementById('aiFile');
    const preview=document.getElementById('preview');
    const analyzeBtn=document.getElementById('analyzeBtn');
    const aiResult=document.getElementById('aiResult');
    let imgDataUrl=null;

    aiFile?.addEventListener('change',ev=>{
      const file=ev.target.files?.[0];
      if(!file)return;
      const rd=new FileReader();
      rd.onload=()=>{
        imgDataUrl=rd.result;
        preview.innerHTML=`<img src="${imgDataUrl}" alt="preview" class="w-full h-full object-cover rounded-xl transition-opacity duration-500 opacity-0" onload="this.style.opacity=1"/>`;
      };
      rd.readAsDataURL(file);
    });

    analyzeBtn?.addEventListener('click',async()=>{
      if(!imgDataUrl){alert('ğŸ“¸ Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø®ØªØ± ØµÙˆØ±Ø© Ø£ÙˆÙ„Ø§Ù‹.');return;}
      aiResult.innerHTML='<div class="text-white/70 animate-pulse">â³ Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø¹Ø¨Ø± Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠ...</div>';
      try{
        const res=await fetch('https://smart-hsr-function-38965508031.europe-west1.run.app/',{
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body:JSON.stringify({image:imgDataUrl})
        });
        if(!res.ok){
          aiResult.innerHTML='<div class="text-red-400">âš ï¸ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø¯Ù…Ø©. ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Cloud Run Ø£Ùˆ CORS.</div>';
          return;
        }
        const data=await res.json();
        const result=data.output||'âŒ Ù„Ù… ÙŠØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ù†ØªÙŠØ¬Ø© Ù…Ù† Ø§Ù„Ø®Ø¯Ù…Ø©.';
        aiResult.innerHTML=`<div class="leading-relaxed text-white/90 fade-in">${result}</div>`;
      }catch(err){
        console.error(err);
        aiResult.innerHTML='<div class="text-red-400">âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø¯Ù…Ø©.</div>';
      }
    });
  </script>

  <style>
    .fade-in {animation:fadeIn 0.8s ease-in forwards;}
    @keyframes fadeIn {from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);}}
  </style>
</body>
</html>
